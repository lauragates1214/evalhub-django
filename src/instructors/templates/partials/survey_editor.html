<div id="survey-name-container">
  <h2 id="survey-name-display" style="display: inline;">{{ survey.name }}</h2>
  <button id="edit-survey-name-btn" 
          type="button" 
          class="btn btn-sm btn-link"
          hx-get="{% url 'instructors:survey_detail' survey.id %}?edit_mode=true"
          hx-target="#survey-name-container"
          hx-swap="outerHTML">
    Edit
  </button>
</div>
<p>Survey created successfully!</p>

<div id="question-container">
  <form method="POST" action="{% url 'instructors:survey_detail' survey.id %}" 
        hx-post="{% url 'instructors:survey_detail' survey.id %}"
        hx-target="#question-container"
        hx-swap="innerHTML">
    {% csrf_token %}
    <input type="text" 
           id="id_text" 
           name="text" 
           placeholder="Add a question"
           class="form-control {% if form.errors %}is-invalid{% endif %}"
           value="{{ form.text.value|default:'' }}">
    {% if form.errors %}
      <div class="invalid-feedback">
        {{ form.errors.text.0 }}
      </div>
    {% endif %}
    <button type="submit">Add Question</button>
  </form>
  
  <table class="table" id="id_question_table">
    {% for question in survey.question_set.all %}
    <tr>
      <td>{{ forloop.counter }}: {{ question.text }}</td>
    </tr>
    {% endfor %}
  </table>
</div>

  <img src="{% url 'instructors:generate_qr_code' survey.id %}" class="qr-code" alt="Survey QR Code">
  <a href="{% url 'instructors:responses_list' survey.id %}"
    hx-get="{% url 'instructors:responses_list' survey.id %}"
    hx-target="#main-content"
    hx-push-url="true">
    View Responses
  </a>
  <a href="{% url 'instructors:export_responses' survey.id %}">Export to CSV</a>